using Sufra.Application.DTOs.MealRequests;
using Sufra.Application.DTOs.Couriers;

namespace Sufra.Application.Interfaces
{
    /// <summary>
    /// ๐ฏ ูุงุฌูุฉ ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุทูุจุงุช ุงููุฌุจุงุช ุงูููููุฉ
    /// </summary>
    public interface IMealRequestService
    {
        // ============================================================
        // ๐น ุนูููุงุช ุงููุฑุงุกุฉ
        // ============================================================

        /// <summary>
        /// ุฌูุจ ุฌููุน ุงูุทูุจุงุช ูู ุงููุธุงู (ูููุดุฑููู)
        /// ูุชุดูู ูุนูููุงุช ุงูุทุงูุจ ูุงูููุทูุฉ ูุงูุงุดุชุฑุงู ูุชุงุฑูุฎ ุงููุฌุจุฉ ูุญุงูุฉ ุงูุฏูุน.
        /// </summary>
        Task<IEnumerable<MealRequestDto>> GetAllAsync();

        /// <summary>
        /// ุฌูุจ ุงูุทูุจุงุช ุงูุฎุงุตุฉ ุจุทุงูุจ ูุนูู (ุชุดูู ุญุงูุฉ ุงูุฏูุน ูุชุงุฑูุฎ ุงููุฌุจุฉ).
        /// </summary>
        Task<IEnumerable<MealRequestDto>> GetByStudentAsync(int studentId);

        /// <summary>
        /// ุฌูุจ ุงูุทูุจุงุช ุงููุชุงุญุฉ ุฃู ุงููุณูุฏุฉ ูููุฏูุจ ูุนููู (ุญุณุจ ููุทู ููุทูุชู).
        /// </summary>
        Task<IEnumerable<MealRequestDto>> GetByCourierAsync(int courierId);

        /// <summary>
        /// ุฌูุจ ุชูุงุตูู ุทูุจ ูุงุญุฏ ุญุณุจ ุฑูู ุงููุนุฑูู.
        /// </summary>
        Task<MealRequestDto?> GetByIdAsync(int id);

        // ============================================================
        // ๐น ุนูููุงุช ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ
        // ============================================================

        /// <summary>
        /// ุฅูุดุงุก ุทูุจ ูุฌุจุฉ ุฌุฏูุฏ.
        /// - ูููุน ุงูุชูุฑุงุฑ ูููุณ ุงูููู ูุงููุชุฑุฉ.
        /// - ุฅุฐุง ูุงู "ุชูุตูู"ุ ูุชู ุฅุดุนุงุฑ ุฌููุน ุงูููุฏูุจูู ูู ููุณ ุงูููุทูุฉ.
        /// </summary>
Task<MealRequestDto> CreateAsync(CreateMealRequestDto dto);

        /// <summary>
        /// ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฃู ุงูููุงุญุธุงุช ุฃู ุงูุฏูุน ูุน ุฅุดุนุงุฑ ุงูุทุงูุจ ุจุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ.
        /// </summary>
        Task<MealRequestDto?> UpdateAsync(MealRequestDto dto);

        // ============================================================
        // ๐ดโโ๏ธ ุนูููุงุช ุงูููุฏูุจ
        // ============================================================

        /// <summary>
        /// ูุจูู ุงูุทูุจ ูู ุฃุญุฏ ุงูููุฏูุจูู.
        /// - ูุชู ุฅุณูุงุฏ ุงูุทูุจ ูุฃูู ููุฏูุจ ููุจูู ููุท.
        /// - ูุชู ุฅุดุนุงุฑ ุงูุทุงูุจ ุจุงุณู ุงูููุฏูุจ.
        /// - ูุชู ุฅุดุนุงุฑ ุงูููุฏูุจ ููุณู ุจุชุฃููุฏ ุงูุฅุณูุงุฏ.
        /// </summary>
        Task<(bool Success, string Message, int StudentId)> AssignCourierAsync(int requestId, int courierId);

        // ============================================================
        // ๐น ุนูููุงุช ุงูุญุฐู
        // ============================================================

        /// <summary>
        /// ุญุฐู ุทูุจ ูุฌุจุฉ (ููุฅุฏุงุฑุฉ ููุท).
        /// </summary>
        Task<bool> DeleteAsync(int id);

        // ============================================================
        // ๐งญ ุฌูุจ ุงูููุฏูุจูู ูู ููุทูุฉ ูุญุฏุฏุฉ
        // ============================================================

        /// <summary>
        /// ุฌูุจ ุฌููุน ุงูููุฏูุจูู ุงููุดุทูู ูู ููุทูุฉ ูุนููุฉ.
        /// </summary>
        Task<IEnumerable<CourierDto>> GetCouriersByZoneAsync(int zoneId);

        // ============================================================
        // ๐ข ุฅูุดุงุก ุณุฌู ูุนูู + ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูุฌููุน ุงูููุฏูุจูู ูู ุงูููุทูุฉ
        // ============================================================
        /// <summary>
        /// ูููู ุจุฅูุดุงุก ุณุฌู ูุนูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุฑุณุงู ุฅุดุนุงุฑุงุช ููููุฏูุจูู
        /// ุจูุฌูุฏ ุทูุจ ุฌุฏูุฏ ูู ููุทูุชูู (ูุจู ุงููุจูู).
        /// </summary>
        Task<MealRequestDto?> NotifyCouriersOnlyAsync(CreateMealRequestDto dto);

        Task<MealRequestDto> CreateAsync(MealRequestDto dto);

    }
}
